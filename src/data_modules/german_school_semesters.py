"""
german_school_semesters.py

Canonical source for German school-holiday dictionaries and related constants.
No globals()-based lookups anywhere.

Conventions:
- State keys use the 2-letter abbreviations (e.g., "BW", "BY", ... "TH").
- Date strings are ISO "YYYY-MM-DD".
- Intervals are inclusive on both ends (start <= local_date <= end).
"""

from __future__ import annotations
from typing import Dict, List, Tuple, Sequence

# ---------------------------------------------------------------------------
# State naming constants (consistent with src/de_hol_df )
# ---------------------------------------------------------------------------

GERMAN_STATES_ABBREVIATIONS: Sequence[str] = (
    "BW", "BY", "BE", "BB", "HB", "HH", "HE", "MV",
    "NI", "NW", "RP", "SL", "SN", "ST", "SH", "TH"
)

GERMAN_STATES_ABBREVIATIONS_WITH_DE_PREFIX: Tuple[str, ...] = tuple(
    f"DE_{s}" for s in GERMAN_STATES_ABBREVIATIONS
)

GERMAN_STATES_ABBREVIATIONS_PREFIX_CUT: Dict[str, str] = {
    f"DE_{s}": s for s in GERMAN_STATES_ABBREVIATIONS
}
#
# -----------------------------------------------------------------------------------------------------------
# Holiday dictionaries 
# Dict format: Dict[GERMAN_STATES_ABBREVIATIONS, List[Tuple["YYYY-MM-DD","YYYY-MM-DD"]]]
# ------------------------------------------------------------------------------------------------------------
# 
DE_hol_2015_1_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2015-01-01','2015-01-05'), ('2015-03-30','2015-04-10'), 
           ('2015-05-26','2015-06-06'), ('2015-07-30','2015-09-12')],
    'BY': [('2015-01-01','2015-01-05'), ('2015-02-16','2015-02-20'), 
           ('2015-03-30','2015-04-11'), ('2015-05-26','2015-06-05'), 
           ('2015-07-31','2015-09-14')],
    'BE': [('2015-01-01','2015-01-02'), ('2015-02-02','2015-02-07'), 
           ('2015-03-30','2015-04-11'), ('2015-05-15','2015-05-15'), 
           ('2015-05-26','2015-05-26'), ('2015-07-16','2015-08-28')],
    'BB': [('2015-01-01','2015-01-02'), ('2015-02-02','2015-02-07'), 
           ('2015-04-01','2015-04-11'), ('2015-05-15','2015-05-15'), 
           ('2015-07-16','2015-08-28')],
    'HB': [('2015-01-01','2015-01-05'), ('2015-02-02','2015-02-03'), 
           ('2015-03-25','2015-04-10'), ('2015-05-15','2015-05-15'), 
           ('2015-05-26','2015-05-26'), ('2015-07-23','2015-09-02')],
    'HH': [('2015-01-01','2015-01-06'), ('2015-01-30','2015-01-30'), 
           ('2015-03-02','2015-03-13'), ('2015-05-11','2015-05-15'), 
           ('2015-07-16','2015-08-26')],
    'HE': [('2015-01-01','2015-01-10'), ('2015-03-30','2015-04-11'), 
           ('2015-07-27','2015-09-04')],
    'MV': [('2015-01-01','2015-01-02'), ('2015-02-02','2015-02-14'), 
           ('2015-03-30','2015-04-08'), ('2015-05-22','2015-05-26'), 
           ('2015-07-20','2015-08-29')],
    'NI': [('2015-01-01','2015-01-05'), ('2015-02-02','2015-02-03'), 
           ('2015-03-25','2015-04-10'), ('2015-05-15','2015-05-15'), 
           ('2015-05-26','2015-05-26'), ('2015-07-23','2015-09-02')],
    'NW': [('2015-01-01','2015-01-06'), ('2015-03-30','2015-04-11'), 
           ('2015-05-26','2015-05-26'), ('2015-06-29','2015-08-11')],
    'RP': [('2015-01-01','2015-01-07'), ('2015-03-26','2015-04-10'), 
           ('2015-05-15','2015-05-15'), ('2015-06-05','2015-06-05'), 
           ('2015-07-27','2015-09-04')],
    'SL': [('2015-01-01','2015-01-07'), ('2015-02-16','2015-02-21'), 
           ('2015-03-30','2015-04-11'), ('2015-07-27','2015-09-05')],
    'SN': [('2015-01-01','2015-01-03'), ('2015-02-09','2015-02-21'), 
           ('2015-04-02','2015-04-11'), ('2015-05-15','2015-05-15'), 
           ('2015-07-13','2015-08-21')],
    'ST': [('2015-01-01','2015-01-05'), ('2015-02-02','2015-02-14'), 
           ('2015-04-02','2015-04-02'), ('2015-05-15','2015-05-23'), 
           ('2015-07-13','2015-08-26')],
    'SH': [('2015-01-01','2015-01-06'), ('2015-04-01','2015-04-17'), 
           ('2015-05-15','2015-05-15'), ('2015-07-20','2015-08-29')],
    'TH': [('2015-01-01','2015-01-03'), ('2015-02-02','2015-02-07'), 
           ('2015-03-30','2015-04-11'), ('2015-05-15','2015-05-15'), 
           ('2015-07-13','2015-08-21')],
}
DE_hol_2015_2_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2015-11-02', '2015-11-06'), ('2015-12-23', '2015-12-31')],
    'BY': [('2015-11-02', '2015-11-07'), ('2015-12-24', '2015-12-31')],
    'BE': [('2015-10-19', '2015-10-31'), ('2015-12-23', '2015-12-31')],
    'BB': [('2015-10-19', '2015-10-30'), ('2015-12-23', '2015-12-31')],
    'HB': [('2015-10-19', '2015-10-31'), ('2015-12-23', '2015-12-31')],
    'HH': [('2015-10-19', '2015-10-30'), ('2015-12-23', '2015-12-31')],
    'HE': [('2015-10-19', '2015-10-31'), ('2015-12-23', '2015-12-31')],
    'MV': [('2015-10-24', '2015-10-30'), ('2015-12-23', '2015-12-31')],
    'NI': [('2015-10-19', '2015-10-31'), ('2015-12-23', '2015-12-31')],
    'NW': [('2015-10-05', '2015-10-17'), ('2015-12-23', '2015-12-31')],
    'RP': [('2015-10-19', '2015-10-30'), ('2015-12-23', '2015-12-31')],
    'SL': [('2015-10-19', '2015-10-31'), ('2015-12-23', '2015-12-31')],
    'SN': [('2015-10-12', '2015-10-24'), ('2015-12-23', '2015-12-31')],
    'ST': [('2015-10-17', '2015-10-24'), ('2015-12-23', '2015-12-31')],
    'SH': [('2015-10-19', '2015-10-31'), ('2015-12-23', '2015-12-31')],
    'TH': [('2015-10-05', '2015-10-17'), ('2015-12-23', '2015-12-31')],}
DE_hol_2016_1_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2016-01-01', '2016-01-09'), ('2016-03-29', '2016-04-02'),
           ('2016-05-17', '2016-05-28'), ('2016-07-28', '2016-09-10')],
    'BY': [('2016-01-01', '2016-01-05'), ('2016-02-08', '2016-02-12'),
           ('2016-03-21', '2016-04-01'), ('2016-05-17', '2016-05-28'),
           ('2016-07-30', '2016-09-12')],
    'BE': [('2016-01-01', '2016-01-02'), ('2016-02-01', '2016-02-06'),
           ('2016-03-21', '2016-04-02'), ('2016-05-06', '2016-05-06'),
           ('2016-05-17', '2016-05-17'), ('2016-07-21', '2016-09-02')],
    'BB': [('2016-01-01', '2016-01-02'), ('2016-02-01', '2016-02-06'),
           ('2016-03-23', '2016-04-02'), ('2016-05-06', '2016-05-06'),
           ('2016-05-17', '2016-05-17'), ('2016-07-21', '2016-09-03')],
    'HB': [('2016-01-01', '2016-01-06'), ('2016-01-28', '2016-01-29'),
           ('2016-03-18', '2016-04-02'), ('2016-05-17', '2016-05-17'),
           ('2016-06-23', '2016-08-03')],
    'HH': [('2016-01-01', '2016-01-01'), ('2016-01-29', '2016-01-29'),
           ('2016-03-07', '2016-03-18'), ('2016-05-06', '2016-05-06'),
           ('2016-05-17', '2016-05-20'), ('2016-07-21', '2016-08-31')],
    'HE': [('2016-01-01', '2016-01-09'), ('2016-03-29', '2016-04-09'),
           ('2016-07-18', '2016-08-26')],
    'MV': [('2016-01-01', '2016-01-02'), ('2016-02-01', '2016-02-13'),
           ('2016-03-21', '2016-03-30'), ('2016-05-14', '2016-05-17'),
           ('2016-07-25', '2016-09-03')],
    'NI': [('2016-01-01', '2016-01-06'), ('2016-01-28', '2016-01-29'),
           ('2016-03-18', '2016-04-02'), ('2016-05-06', '2016-05-06'),
           ('2016-05-17', '2016-05-17'), ('2016-06-23', '2016-08-03')],
    'NW': [('2016-01-01', '2016-01-06'), ('2016-03-21', '2016-04-02'),
           ('2016-05-17', '2016-05-17'), ('2016-07-11', '2016-08-23')],
    'RP': [('2016-01-01', '2016-01-08'), ('2016-03-18', '2016-04-01'),
           ('2016-05-06', '2016-05-06'), ('2016-05-27', '2016-05-27'),
           ('2016-07-18', '2016-08-26')],
    'SL': [('2016-01-01', '2016-01-02'), ('2016-02-08', '2016-02-13'),
           ('2016-03-29', '2016-04-09'), ('2016-07-18', '2016-08-27')],
    'SN': [('2016-01-01', '2016-01-02'), ('2016-02-08', '2016-02-20'),
           ('2016-03-25', '2016-04-02'), ('2016-05-06', '2016-05-06'),
           ('2016-06-27', '2016-08-05')],
    'ST': [('2016-01-01', '2016-01-05'), ('2016-02-01', '2016-02-10'),
           ('2016-03-24', '2016-03-24'), ('2016-05-06', '2016-05-14'),
           ('2016-06-27', '2016-08-10')],
    'SH': [('2016-01-01', '2016-01-06'), ('2016-03-24', '2016-04-09'),
           ('2016-05-06', '2016-05-06'), ('2016-07-25', '2016-09-03')],
    'TH': [('2016-01-01', '2016-01-02'), ('2016-02-01', '2016-02-06'),
           ('2016-03-24', '2016-04-02'), ('2016-05-06', '2016-05-06'),
           ('2016-06-27', '2016-08-10')],
}
DE_hol_2016_2_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2016-11-02', '2016-11-04'), ('2016-12-23', '2016-12-31')],
    'BY': [('2016-10-31', '2016-11-04'), ('2016-12-24', '2016-12-31')],
    'BE': [('2016-10-17', '2016-10-28'), ('2016-12-23', '2016-12-31')],
    'BB': [('2016-10-17', '2016-10-28'), ('2016-12-23', '2016-12-31')],
    'HB': [('2016-10-04', '2016-10-15'), ('2016-12-21', '2016-12-31')],
    'HH': [('2016-10-17', '2016-10-29'), ('2016-12-27', '2016-12-31')],
    'HE': [('2016-10-17', '2016-10-29'), ('2016-12-22', '2016-12-31')],
    'MV': [('2016-10-24', '2016-10-29'), ('2016-12-22', '2016-12-31')],
    'NI': [('2016-10-04', '2016-10-15'), ('2016-12-21', '2016-12-31')],
    'NW': [('2016-10-10', '2016-10-21'), ('2016-12-23', '2016-12-31')],
    'RP': [('2016-10-10', '2016-10-21'), ('2016-12-22', '2016-12-31')],
    'SL': [('2016-10-10', '2016-10-22'), ('2016-12-19', '2016-12-31')],
    'SN': [('2016-10-03', '2016-10-15'), ('2016-12-23', '2016-12-31')],
    'ST': [('2016-10-04', '2016-10-15'), ('2016-12-19', '2016-12-31')],
    'SH': [('2016-10-17', '2016-10-29'), ('2016-12-23', '2016-12-31')],
    'TH': [('2016-10-10', '2016-10-22'), ('2016-12-23', '2016-12-31')],}
DE_hol_2017_1_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2017-01-01', '2017-01-07'), ('2017-04-10', '2017-04-21'), 
           ('2017-06-06', '2017-06-16'), ('2017-07-27', '2017-09-09')],
    'BY': [('2017-01-01', '2017-01-05'), ('2017-02-27', '2017-03-03'), 
           ('2017-04-10', '2017-04-22'), ('2017-06-06', '2017-06-16'), 
           ('2017-07-29', '2017-09-11')],
    'BE': [('2017-01-01', '2017-01-03'), ('2017-01-30', '2017-02-04'), 
           ('2017-04-10', '2017-04-17'), ('2017-06-06', '2017-06-09'), 
           ('2017-07-20', '2017-09-01')],
    'BB': [('2017-01-01', '2017-01-03'), ('2017-01-30', '2017-02-04'), 
           ('2017-04-12', '2017-04-22'), ('2017-05-26', '2017-05-26'), 
           ('2017-07-20', '2017-09-01')],
    'HB': [('2017-01-01', '2017-01-06'), ('2017-01-30', '2017-01-31'), 
           ('2017-04-10', '2017-04-22'), ('2017-06-06', '2017-06-06'), 
           ('2017-07-22', '2017-09-02')],
    'HH': [('2017-01-01', '2017-01-06'), 
           ('2017-01-30', '2017-01-30'), ('2017-03-06', '2017-03-17'), 
           ('2017-05-22', '2017-05-26'), ('2017-07-20', '2017-08-30')],
    'HE': [('2017-01-01', '2017-01-07'), ('2017-04-03', '2017-04-15'), 
           ('2017-07-03', '2017-08-11')],
    'MV': [('2017-01-01', '2017-01-02'), ('2017-02-06', '2017-02-18'), 
           ('2017-04-10', '2017-04-19'), ('2017-06-02', '2017-06-06'), 
           ('2017-07-24', '2017-09-02')],
    'NI': [('2017-01-01', '2017-01-06'), ('2017-01-30', '2017-01-31'), 
           ('2017-04-10', '2017-04-22'),  ('2017-05-26', '2017-05-26'), 
           ('2017-06-06','2017-06-06'), ('2017-06-22', '2017-08-02')],
    ## two single day intervals in the pentecost period
    'NW': [('2017-01-01', '2017-01-06'), ('2017-04-10', '2017-04-22'), 
           ('2017-06-06', '2017-06-06'), ('2017-07-17', '2017-08-29')],
    'RP': [('2017-01-01', '2017-01-06'), ('2017-04-10', '2017-04-21'), 
           ('2017-05-26', '2017-05-26'),  ('2017-06-16','2017-06-16'), 
           ('2017-07-03', '2017-08-11')],
    ## `RP` has two single day intervals in the pentecost period. 
    ## one atypical date: '2017-06-16'
    'SL': [('2017-01-01', '2017-01-01'), ('2017-02-27', '2017-03-04'), 
           ('2017-04-10', '2017-04-22'), ('2017-07-03', '2017-08-14')],
    ##  Saarland, `SL` , has no school holidays in the beginning of January, 
    ##  for readability I left the New Year holiday as one-day interval
    'SN': [('2017-01-01', '2017-01-02'), ('2017-02-13', '2017-02-24'), 
           ('2017-04-13', '2017-04-22'), ('2017-05-26', '2017-05-26'), 
           ('2017-06-26', '2017-08-04')],
    ## Sachsen has a 26-th of may as single day, as all the remaining states.
    'ST': [('2017-01-01', '2017-01-02'), ('2017-02-04', '2017-02-11'), 
           ('2017-04-10', '2017-04-13'), ('2017-05-26', '2017-05-26'), 
           ('2017-06-26', '2017-08-09')],
    'SH': [('2017-01-01', '2017-01-06'), ('2017-04-07', '2017-04-21'), 
           ('2017-05-26', '2017-05-26'), ('2017-07-24', '2017-09-02')],
    'TH': [('2017-01-01', '2017-01-01'), ('2017-02-06', '2017-02-11'), 
           ('2017-04-10', '2017-04-21'), ('2017-05-26', '2017-05-26'), 
           ('2017-06-26', '2017-08-09')],
}
DE_hol_2017_2_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2017-10-30', '2017-11-03'), ('2017-12-22', '2017-12-31')],
    'BY': [('2017-10-30', '2017-11-03'), ('2017-12-23', '2017-12-31')],
    'BE': [('2017-10-02', '2017-10-02'), ('2017-10-23', '2017-11-04'), 
           ('2017-12-21', '2017-12-31')],
    'BB': [('2017-10-23', '2017-11-04'), ('2017-12-21', '2017-12-31')],
    'HB': [('2017-10-02', '2017-10-14'), ('2017-10-30', '2017-10-30'), 
           ('2017-12-22', '2017-12-31')],
    'HH': [('2017-10-02', '2017-10-02'), ('2017-10-16', '2017-10-27'), 
           ('2017-12-22', '2017-12-31')],
    'HE': [('2017-10-09', '2017-10-21'), ('2017-12-24', '2017-12-31')],
    'MV': [('2017-10-23', '2017-10-28'), ('2017-12-21', '2017-12-31')],
    'NI': [('2017-10-02', '2017-10-13'), ('2017-10-30', '2017-10-30'), 
           ('2017-12-22', '2017-12-31')],
    'NW': [('2017-10-23', '2017-11-04'), ('2017-12-27', '2017-12-31')],
    'RP': [('2017-10-02', '2017-10-13'), ('2017-12-22', '2017-12-31')],
    'SL': [('2017-10-02', '2017-10-14'), ('2017-12-21', '2017-12-31')],
    'SN': [('2017-10-02', '2017-10-14'), ('2017-10-30', '2017-10-30'), 
           ('2017-12-23', '2017-12-31')],
    'ST': [('2017-10-02', '2017-10-13'), ('2017-10-30', '2017-10-30'), 
           ('2017-12-21', '2017-12-31')],
    'SH': [('2017-10-16', '2017-10-27'), ('2017-12-21', '2017-12-31')],
    'TH': [('2017-10-02', '2017-10-14'), ('2017-12-22', '2017-12-31')],
}
DE_hol_2018_1_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2018-01-01', '2018-01-05'), ('2018-03-26', '2018-04-06'),
           ('2018-05-22', '2018-06-02'), ('2018-07-26', '2018-09-08')],
    'BY': [('2018-01-01', '2018-01-05'), ('2018-02-12', '2018-02-16'),
           ('2018-03-26', '2018-04-07'), ('2018-05-22', '2018-06-02'),
           ('2018-07-30', '2018-09-10')],
    'BE': [('2018-01-01', '2018-01-02'), ('2018-02-05', '2018-02-10'),
           ('2018-03-26', '2018-04-06'), ('2018-04-30', '2018-04-30'),
           ('2018-05-11', '2018-05-11'), ('2018-05-22', '2018-05-22'),
           ('2018-07-05', '2018-08-17')],
    'BB': [('2018-01-01', '2018-01-02'), ('2018-02-05', '2018-02-10'),
           ('2018-03-26', '2018-04-06'), ('2018-07-05', '2018-08-18')],
    'HB': [('2018-01-01', '2018-01-06'), ('2018-02-01', '2018-02-02'),
           ('2018-03-19', '2018-04-03'), ('2018-04-30', '2018-04-30'),
           ('2018-05-11', '2018-05-11'), ('2018-05-22', '2018-05-22'),
           ('2018-06-28', '2018-08-08')],
    'HH': [('2018-01-01', '2018-01-05'), ('2018-02-02', '2018-02-02'),
           ('2018-03-05', '2018-03-16'), ('2018-04-30', '2018-04-30'),
           ('2018-05-07', '2018-05-11'), ('2018-07-05', '2018-08-15')],
    'HE': [('2018-01-01', '2018-01-13'), ('2018-03-26', '2018-04-07'),
           ('2018-06-25', '2018-08-03')],
    'MV': [('2018-01-01', '2018-01-03'), ('2018-02-05', '2018-02-16'),
           ('2018-03-26', '2018-04-04'), ('2018-05-18', '2018-05-22'),
           ('2018-07-09', '2018-08-18')],
    'NI': [('2018-01-01', '2018-01-05'), ('2018-02-01', '2018-02-02'),
           ('2018-03-19', '2018-04-03'), ('2018-04-30', '2018-04-30'),
           ('2018-05-11', '2018-05-11'), ('2018-05-22', '2018-05-22'),
           ('2018-06-28', '2018-08-08')],
    'NW': [('2018-01-01', '2018-01-06'), ('2018-03-26', '2018-04-07'),
           ('2018-05-22', '2018-05-25'), ('2018-07-16', '2018-08-28')],
    'RP': [('2018-01-01', '2018-01-09'), ('2018-03-26', '2018-04-06'),
           ('2018-06-25', '2018-08-03')],
    'SL': [('2018-01-01', '2018-01-05'), ('2018-02-12', '2018-02-17'),
           ('2018-03-26', '2018-04-06'), ('2018-06-25', '2018-08-03')],
    'SN': [('2018-01-01', '2018-01-02'), ('2018-02-12', '2018-02-23'),
           ('2018-03-29', '2018-04-06'), ('2018-05-11', '2018-05-11'),
           ('2018-05-19', '2018-05-22'), ('2018-07-02', '2018-08-10')],
    'ST': [('2018-01-01', '2018-01-03'), ('2018-02-05', '2018-02-09'),
           ('2018-03-26', '2018-03-31'), ('2018-05-11', '2018-05-18'),
           ('2018-06-28', '2018-08-08')],
    'SH': [('2018-01-01', '2018-01-06'), ('2018-03-29', '2018-04-13'),
           ('2018-05-11', '2018-05-11'), ('2018-07-09', '2018-08-18')],
    'TH': [('2018-01-01', '2018-01-05'), ('2018-02-05', '2018-02-09'),
           ('2018-03-26', '2018-04-07'), ('2018-05-11', '2018-05-11'),
           ('2018-07-02', '2018-08-11')],}
DE_hol_2018_2_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2018-10-29', '2018-11-02'), ('2018-12-24', '2018-12-31')],
    'BY': [('2018-10-29', '2018-11-02'), ('2018-12-22', '2018-12-31')],
    'BE': [('2018-10-22', '2018-11-02'), ('2018-12-22', '2018-12-31')],
    'BB': [('2018-10-22', '2018-11-02'), ('2018-12-22', '2018-12-31')],
    'HB': [('2018-10-01', '2018-10-13'), ('2018-12-24', '2018-12-31')],
    'HH': [('2018-10-01', '2018-10-12'), ('2018-12-20', '2018-12-31')],
    'HE': [('2018-10-01', '2018-10-13'), ('2018-12-24', '2018-12-31')],
    'MV': [('2018-10-08', '2018-10-13'), ('2018-12-24', '2018-12-31')],
    'NI': [('2018-10-01', '2018-10-12'), ('2018-12-24', '2018-12-31')],
    'NW': [('2018-10-15', '2018-10-27'), ('2018-12-21', '2018-12-31')],
    'RP': [('2018-10-01', '2018-10-12'), ('2018-12-20', '2018-12-31')],
    'SL': [('2018-10-01', '2018-10-12'), ('2018-12-20', '2018-12-31')],
    'SN': [('2018-10-08', '2018-10-20'), ('2018-12-22', '2018-12-31')],
    'ST': [('2018-10-01', '2018-10-12'), ('2018-12-19', '2018-12-31')],
    'SH': [('2018-10-01', '2018-10-19'), ('2018-12-21', '2018-12-31')],
    'TH': [('2018-10-01', '2018-10-13'), ('2018-12-21', '2018-12-31')],
    }
DE_hol_2019_1_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2019-01-01', '2019-01-05'), ('2019-04-15', '2019-04-27'),
           ('2019-06-11', '2019-06-21'), ('2019-07-29', '2019-09-10')],
    'BY': [('2019-01-01', '2019-01-05'), ('2019-03-04', '2019-03-08'),
           ('2019-04-15', '2019-04-27'), ('2019-06-11', '2019-06-21'),
           ('2019-07-29', '2019-09-09')],
    'BE': [('2019-01-01', '2019-01-05'), ('2019-02-04', '2019-02-09'),
           ('2019-04-15', '2019-04-26'), ('2019-05-31', '2019-05-31'),
           ('2019-06-11', '2019-06-11'), ('2019-06-20', '2019-08-02')],
    'BB': [('2019-01-01', '2019-01-05'), ('2019-02-04', '2019-02-09'),
           ('2019-04-15', '2019-04-26'), ('2019-06-20', '2019-08-03')],
    'HB': [('2019-01-01', '2019-01-04'), ('2019-01-31', '2019-02-01'),
           ('2019-04-06', '2019-04-23'), ('2019-05-31', '2019-05-31'),
           ('2019-06-11', '2019-06-11'), ('2019-07-04', '2019-08-14')],
    'HH': [('2019-01-01', '2019-01-04'), ('2019-02-01', '2019-02-01'),
           ('2019-03-04', '2019-03-15'), ('2019-05-13', '2019-05-17'),
           ('2019-05-31', '2019-05-31'), ('2019-06-27', '2019-08-07')],
    'HE': [('2019-01-01', '2019-01-12'), ('2019-04-15', '2019-04-27'),
           ('2019-07-01', '2019-08-09')],
    'MV': [('2019-01-01', '2019-01-05'), ('2019-02-04', '2019-02-15'),
           ('2019-04-15', '2019-04-24'), ('2019-06-07', '2019-06-11'),
           ('2019-07-01', '2019-08-10')],
    'NI': [('2019-01-01', '2019-01-04'), ('2019-01-31', '2019-02-01'),
           ('2019-04-08', '2019-04-23'), ('2019-05-31', '2019-05-31'),
           ('2019-06-11', '2019-06-11'), ('2019-07-04', '2019-08-14')],
    'NW': [('2019-01-01', '2019-01-04'), ('2019-04-15', '2019-04-27'),
           ('2019-06-11', '2019-06-11'), ('2019-07-15', '2019-08-27')],
    'RP': [('2019-01-01', '2019-01-04'), ('2019-02-25', '2019-03-01'),
           ('2019-04-23', '2019-04-30'), ('2019-07-01', '2019-08-09')],
    'SL': [('2019-01-01', '2019-01-04'), ('2019-02-25', '2019-03-05'),
           ('2019-04-17', '2019-04-26'), ('2019-07-01', '2019-08-09')],
    'SN': [('2019-01-01', '2019-01-04'), ('2019-02-18', '2019-03-02'),
           ('2019-04-19', '2019-04-26'), ('2019-05-31', '2019-05-31'),
           ('2019-07-08', '2019-08-16')],
    'ST': [('2019-01-01', '2019-01-04'), ('2019-02-11', '2019-02-15'),
           ('2019-04-18', '2019-04-30'), ('2019-05-31', '2019-06-01'),
           ('2019-07-04', '2019-08-14')],
    'SH': [('2019-01-01', '2019-01-04'), ('2019-04-04', '2019-04-18'),
           ('2019-05-31', '2019-05-31'), ('2019-07-01', '2019-08-10')],
    'TH': [('2019-01-01', '2019-01-04'), ('2019-02-11', '2019-02-15'),
           ('2019-04-15', '2019-04-27'), ('2019-05-31', '2019-05-31'),
           ('2019-07-08', '2019-08-17')],
           }
DE_hol_2019_2_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2019-10-28', '2019-10-31'), ('2019-12-23', '2019-12-31')],
    'BY': [('2019-10-28', '2019-10-31'), ('2019-12-23', '2019-12-31')],
    'BE': [('2019-10-04', '2019-10-04'), ('2019-10-07', '2019-10-19'), 
           ('2019-12-23', '2019-12-31')],
    'BB': [('2019-10-04', '2019-10-18'), ('2019-12-23', '2019-12-31')],
    'HB': [('2019-10-04', '2019-10-18'), ('2019-12-21', '2019-12-31')],
    'HH': [('2019-10-04', '2019-10-18'), ('2019-12-23', '2019-12-31')],
    'HE': [('2019-09-30', '2019-10-12'), ('2019-12-23', '2019-12-31')],
    'MV': [('2019-10-07', '2019-10-12'), ('2019-12-23', '2019-12-31')],
    'NI': [('2019-10-04', '2019-10-18'), ('2019-12-23', '2019-12-31')],
    'NW': [('2019-10-14', '2019-10-26'), ('2019-12-23', '2019-12-31')],
    'RP': [('2019-09-30', '2019-10-11'), ('2019-12-23', '2019-12-31')],
    'SL': [('2019-10-07', '2019-10-18'), ('2019-12-23', '2019-12-31')],
    'SN': [('2019-10-14', '2019-10-25'), ('2019-12-21', '2019-12-31')],
    'ST': [('2019-10-04', '2019-10-11'), ('2019-11-01', '2019-11-01'), 
           ('2019-12-23', '2019-12-31')],
    'SH': [('2019-10-04', '2019-10-18'), ('2019-12-23', '2019-12-31')],
    'TH': [('2019-10-07', '2019-10-19'), ('2019-12-21', '2019-12-31')],
}
DE_hol_2020_1_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2020-01-01', '2020-01-04'), ('2020-04-06', '2020-04-18'),
           ('2020-06-02', '2020-06-13'), ('2020-07-30', '2020-09-12')],
    'BY': [('2020-01-01', '2020-01-04'), ('2020-02-24', '2020-02-28'),
           ('2020-04-06', '2020-04-18'), ('2020-06-02', '2020-06-13'),
           ('2020-07-27', '2020-09-07')],
    'BE': [('2020-01-01', '2020-01-04'), ('2020-02-03', '2020-02-08'),
           ('2020-04-06', '2020-04-17'), ('2020-05-22', '2020-05-22'),
           ('2020-06-25', '2020-08-07')],
    'BB': [('2020-01-01', '2020-01-03'), ('2020-02-03', '2020-02-08'),
           ('2020-04-06', '2020-04-17'), ('2020-06-25', '2020-08-08')],
    'HB': [('2020-01-01', '2020-01-06'), ('2020-02-03', '2020-02-04'),
           ('2020-03-28', '2020-04-14'), ('2020-05-22', '2020-05-22'),
           ('2020-06-02', '2020-06-02'), ('2020-07-16', '2020-08-26')],
    'HH': [('2020-01-01', '2020-01-03'), ('2020-01-31', '2020-01-31'),
           ('2020-03-02', '2020-03-13'), ('2020-05-04', '2020-05-08'),
           ('2020-05-22', '2020-05-22'), ('2020-06-25', '2020-08-05')],
    'HE': [('2020-01-01', '2020-01-11'), ('2020-04-06', '2020-04-18'),
           ('2020-07-06', '2020-08-14')],
    'MV': [('2020-01-01', '2020-01-04'), ('2020-02-10', '2020-02-21'),
           ('2020-04-06', '2020-04-15'), ('2020-05-29', '2020-06-02'),
           ('2020-06-22', '2020-08-01')],
    'NI': [('2020-01-01', '2020-01-06'), ('2020-02-03', '2020-02-04'),
           ('2020-03-30', '2020-04-14'), ('2020-05-22', '2020-05-22'),
           ('2020-06-02', '2020-06-02'), ('2020-07-16', '2020-08-26')],
    'NW': [('2020-01-01', '2020-01-06'), ('2020-04-06', '2020-04-18'),
           ('2020-06-02', '2020-06-02'), ('2020-06-29', '2020-08-11')],
    'RP': [('2020-01-01', '2020-01-06'), ('2020-02-17', '2020-02-21'),
           ('2020-04-09', '2020-04-17'), ('2020-07-06', '2020-08-14')],
    'SL': [('2020-01-01', '2020-01-03'), ('2020-02-17', '2020-02-25'),
           ('2020-04-14', '2020-04-24'), ('2020-07-06', '2020-08-14')],
    'SN': [('2020-01-01', '2020-01-03'), ('2020-02-10', '2020-02-22'),
           ('2020-04-10', '2020-04-18'), ('2020-05-22', '2020-05-22'),
           ('2020-07-20', '2020-08-28')],
    'ST': [('2020-01-01', '2020-01-04'), ('2020-02-10', '2020-02-14'),
           ('2020-04-06', '2020-04-11'), ('2020-05-18', '2020-05-30'),
           ('2020-07-16', '2020-08-26')],
    'SH': [('2020-01-01', '2020-01-06'), ('2020-03-30', '2020-04-17'),
           ('2020-05-22', '2020-05-22'), ('2020-06-29', '2020-08-08')],
    'TH': [('2020-01-01', '2020-01-03'), ('2020-02-10', '2020-02-14'),
           ('2020-04-06', '2020-04-18'), ('2020-05-22', '2020-05-22'),
           ('2020-07-20', '2020-08-29')],}
DE_hol_2020_2_dict: Dict[str, List[Tuple[str, str]]] = {
    'BW': [('2020-10-26', '2020-10-31'), ('2020-12-23', '2020-12-31')],
    'BY': [('2020-10-31', '2020-11-06'), ('2020-12-23', '2020-12-31')],
    'BE': [('2020-10-12', '2020-10-24'), ('2020-12-21', '2020-12-31')],
    'BB': [('2020-10-12', '2020-10-24'), ('2020-12-21', '2020-12-31')],
    'HB': [('2020-10-12', '2020-10-24'), ('2020-12-23', '2020-12-31')],
    'HH': [('2020-10-05', '2020-10-16'), ('2020-12-21', '2020-12-31')],
    'HE': [('2020-10-05', '2020-10-17'), ('2020-12-21', '2020-12-31')],
    'MV': [('2020-10-05', '2020-10-10'), ('2020-11-02', '2020-11-03'), 
           ('2020-12-21', '2020-12-31')],
    'NI': [('2020-10-12', '2020-10-23'), ('2020-12-23', '2020-12-31')],
    'NW': [('2020-10-12', '2020-10-24'), ('2020-12-23', '2020-12-31')],
    'RP': [('2020-10-12', '2020-10-23'), ('2020-12-21', '2020-12-31')],
    'SL': [('2020-10-12', '2020-10-23'), ('2020-12-21', '2020-12-31')],
    'SN': [('2020-10-19', '2020-10-31'), ('2020-12-23', '2020-12-31')],
    'ST': [('2020-10-19', '2020-10-24'), ('2020-12-21', '2020-12-31')],
    'SH': [('2020-10-05', '2020-10-17'), ('2020-12-21', '2020-12-31')],
    'TH': [('2020-10-17', '2020-10-30'), ('2020-12-23', '2020-12-31')],
    }

# ---------------------------------------------------------------------------
# Central registry: explicit (year, half) -> dict mapping
# Populate this as you add dictionaries above.
# ---------------------------------------------------------------------------

SEMESTER_REGISTRY: Dict[Tuple[int, int], Dict[str, List[Tuple[str, str]]]] = {
    (2015, 1): DE_hol_2015_1_dict,
    (2015, 2): DE_hol_2015_2_dict,
    (2016, 1): DE_hol_2016_1_dict,
    (2016, 2): DE_hol_2016_2_dict,
    (2017, 1): DE_hol_2017_1_dict,
    (2017, 2): DE_hol_2017_2_dict,
    (2018, 1): DE_hol_2018_1_dict,
    (2018, 2): DE_hol_2018_2_dict,
    (2019, 1): DE_hol_2019_1_dict,
    (2019, 2): DE_hol_2019_2_dict,
    (2020, 1): DE_hol_2020_1_dict,
    (2020, 2): DE_hol_2020_2_dict,
}

# ---------------------------------------------------------------------------
# (Optional) lightweight validation helpers
# ---------------------------------------------------------------------------

def validate_semester_dict(d: Dict[str, List[Tuple[str, str]]]) -> None:
    """Validate state keys and tuple shapes."""
    for state, ranges in d.items():
        if state not in GERMAN_STATES_ABBREVIATIONS:
            raise ValueError(f"Invalid state abbreviation: {state!r}.")
        for pair in ranges:
            if not (isinstance(pair, tuple) and len(pair) == 2):
                raise ValueError(f"Invalid interval for {state}: {pair!r} (expect (start,end)).")
